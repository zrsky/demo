<!DOCTYPE html>
<html>

<head>
    <title>密码重置</title>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="css/easyui.css">
    <style type="text/css">
    	.container .top-wrapper {
    		margin: 10px 0;
    	}
    	.container #listWrapper {
    		/*display: none;*/
    		visibility: hidden;
    	}
    </style>
</head>

<body>
<input type="checkbox" name="" disabled="false">
    <div class="container">
        <div class="top-wrapper">
        	<span>welcome!</span>
        	<button>demo</button>
        	<a href="#">退出</a>
        </div>
        <div class="settingBtn">
        	<button>密码修改</button>
        	<button id="resetPW">密码重置</button>
        </div>
        <div style="margin:20px 0;"></div>
        <div class="listWrapper" id="listWrapper">
        	<table class="easyui-datagrid" id="grid" title='用户列表<button id="reset" style="float:right;" onclick="editPw(event)">重置</button>' style="width:100%;height:250px" data-options="singleSelect:false,collapsible:true,pagination:true,pageSize:10,url:'./data.json',method:'get'">
	            <thead>
	                <tr>
	                    <th data-options="field:'itemid'"></th>
	                    <th data-options="field:'ck',checkbox:true"></th>
	                    <th data-options="field:'name',width:'25%',align:'center'">姓名</th>
	                    <th data-options="field:'sex',width:'25%',align:'center'">性别</th>
	                    <th data-options="field:'age',width:'25%',align:'center'">年龄</th>
	                    <!-- <th data-options="field:'_operate',width:'25%',align:'center',formatter:rowformatter"></th> -->
	                </tr>

	            </thead>
	        </table>
        </div>
    </div>
</body>

</html>
<script src="js/jquery.min.js"></script>
<script src="js/jquery.easyui.min.js"></script>
<script>
	$('#resetPW').on('click', function(e) {
		if($('#listWrapper').css('visibility') == "hidden") {
			$('#listWrapper').css({'visibility': 'visible'})
		}else{
			$('#listWrapper').css({'visibility': 'hidden'})
		}
	})
	// function rowformatter(value, row, index) {
	// 	return '<input type="button" onclick="editPw(event,'+ row.itemid +')" value="密码重置" />';
	// }
	function editPw(event) {
		event.stopPropagation();
		var checkedItems = $('#grid').datagrid('getChecked');
		console.log(checkedItems)
		var result = [];
		$.each(checkedItems,function(index,item) {
			result.push(item.itemid);
		})
		// console.log(result.join(','))
		window.location.href = "./retset.html?id="+result.join(',');
	}
</script>
